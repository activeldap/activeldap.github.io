<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../../../activeldap.css" type="text/css" />
    <link rel="shortcut icon" href="../../../../favicon.ico" />
    <link rel="icon" href="../../../../favicon.png" />
    <title>
  Module: ActiveLdap::Associations::ClassMethods
  
    &mdash; activeldap
  
 - ActiveLdap</title>


  <link rel="stylesheet" href="../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "ActiveLdap::Associations::ClassMethods";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
<div class="header">
  <div class="title">
    <a href="../../../../">
      <span class="title">
  Module: ActiveLdap::Associations::ClassMethods
  
    &mdash; activeldap
  
</span>
      <span class="title-separator">-</span>
      <span class="title-project">ActiveLdap</span>
    </a>
  </div>
  <ul class="other-languages">
    <li id="other-language-japanese" lang="ja" xml:lang="ja"><a href="../../../../activeldap/ja/ActiveLdap/Associations/ClassMethods.html">日本語</a></li>
  </ul>
  <ul class="menu">
    <li><a href="../../../../#activeldap-about">ActiveLdap</a></li>
    <li><a href="../../../../#activeldap-fabrication-about">ActiveLdap Fabrication</a></li>
  </ul>
</div>

<div class="content">
  <div class="main">


      <div id="header">
        <div id="menu">
  
    <a href="../../alphabetical_index.html">Index (C)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../ActiveLdap.html" title="ActiveLdap (module)">ActiveLdap</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Associations.html" title="ActiveLdap::Associations (module)">Associations</a></span></span>
     &raquo; 
    <span class="title">ClassMethods</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: ActiveLdap::Associations::ClassMethods
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/active_ldap/associations.rb</dd>
  </dl>
  
</div>








  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#associated_class-instance_method" title="#associated_class (instance method)">#<strong>associated_class</strong>(name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#belongs_to-instance_method" title="#belongs_to (instance method)">#<strong>belongs_to</strong>(association_id, options = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>belongs_to.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_many-instance_method" title="#has_many (instance method)">#<strong>has_many</strong>(association_id, options = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>has_many.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_associated_class-instance_method" title="#set_associated_class (instance method)">#<strong>set_associated_class</strong>(name, klass)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="associated_class-instance_method">
  
    #<strong>associated_class</strong>(name)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


26
27
28</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/active_ldap/associations.rb', line 26</span>

<span class='kw'>def</span> <span class='id identifier rubyid_associated_class'>associated_class</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='ivar'>@associated_classes</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="belongs_to-instance_method">
  
    #<strong>belongs_to</strong>(association_id, options = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>belongs_to</p>

<p>This defines a method for an extension class map its DN key attribute value
on to multiple items which reference it by |:foreign_key| in the other LDAP
entry covered by class |:class_name|.</p>

<p>Example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_belongs_to'>belongs_to</span> <span class='symbol'>:groups</span><span class='comma'>,</span> <span class='symbol'>:class_name</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Group</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='symbol'>:many</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>memberUid</span><span class='tstring_end'>&quot;</span></span> <span class='comment'># Group#memberUid
</span>           <span class='comment'># :primary_key =&gt; &quot;uid&quot; # User#uid
</span>           <span class='comment'>## deprecated since 1.1.0. Use :primary_key instead.
</span>           <span class='comment'>## :foreign_key =&gt; &quot;uid&quot; # User#uid
</span>           <span class='comment'># dn attribute value is used by default
</span><span class='id identifier rubyid_belongs_to'>belongs_to</span> <span class='symbol'>:primary_group</span><span class='comma'>,</span> <span class='symbol'>:class_name</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Group</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
           <span class='symbol'>:foreign_key</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>gidNumber</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='comment'># User#gidNumber
</span>           <span class='symbol'>:primary_key</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>gidNumber</span><span class='tstring_end'>&quot;</span></span>  <span class='comment'># Group#gidNumber
</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/active_ldap/associations.rb', line 48</span>

<span class='kw'>def</span> <span class='id identifier rubyid_belongs_to'>belongs_to</span><span class='lparen'>(</span><span class='id identifier rubyid_association_id'>association_id</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_validate_belongs_to_options'>validate_belongs_to_options</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_klass'>klass</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:class</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_klass'>klass</span> <span class='op'>||=</span> <span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:class_name</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id identifier rubyid_association_id'>association_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_classify'>classify</span>
  <span class='id identifier rubyid_foreign_key'>foreign_key</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:foreign_key</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_primary_key'>primary_key</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:primary_key</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_many'>many</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:many</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_set_associated_class'>set_associated_class</span><span class='lparen'>(</span><span class='id identifier rubyid_association_id'>association_id</span><span class='comma'>,</span> <span class='id identifier rubyid_klass'>klass</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='symbol'>:association_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_association_id'>association_id</span><span class='comma'>,</span>
    <span class='symbol'>:foreign_key_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_foreign_key'>foreign_key</span><span class='comma'>,</span>
    <span class='symbol'>:primary_key_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_primary_key'>primary_key</span><span class='comma'>,</span>
    <span class='symbol'>:many</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_many'>many</span><span class='comma'>,</span>
    <span class='symbol'>:extend</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:extend</span><span class='rbracket'>]</span><span class='comma'>,</span>
  <span class='rbrace'>}</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:many</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_association_class'>association_class</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Association.html" title="ActiveLdap::Association (module)">Association</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Association/BelongsToMany.html" title="ActiveLdap::Association::BelongsToMany (class)">BelongsToMany</a></span></span>
    <span class='id identifier rubyid_foreign_key_name'>foreign_key_name</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:foreign_key_name</span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_foreign_key_name'>foreign_key_name</span>
      <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='id identifier rubyid__'>_</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:foreign_key belongs_to(:many) option is </span><span class='tstring_end'>&quot;</span></span> \
                  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>deprecated since 1.1.0. Use :primary_key instead.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='const'>ActiveSupport</span><span class='op'>::</span><span class='const'>Deprecation</span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span><span class='lparen'>(</span><span class='id identifier rubyid_message'>message</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:primary_key_name</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='id identifier rubyid_foreign_key_name'>foreign_key_name</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:primary_key_name</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='id identifier rubyid_dn_attribute'>dn_attribute</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_association_class'>association_class</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Association.html" title="ActiveLdap::Association (module)">Association</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Association/BelongsTo.html" title="ActiveLdap::Association::BelongsTo (class)">BelongsTo</a></span></span>
    <span class='id identifier rubyid_opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:foreign_key_name</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_association_id'>association_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>_id</span><span class='tstring_end'>&quot;</span></span>

    <span class='id identifier rubyid_before_save'>before_save</span> <span class='kw'>do</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_instance_variable_defined?'>instance_variable_defined?</span><span class='lparen'>(</span><span class='symbol'>:@</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_association_id'>association_id</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='id identifier rubyid_association'>association</span> <span class='op'>=</span> <span class='id identifier rubyid_instance_variable_get'>instance_variable_get</span><span class='lparen'>(</span><span class='symbol'>:@</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_association_id'>association_id</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_association'>association</span> <span class='kw'>and</span> <span class='id identifier rubyid_association'>association</span><span class='period'>.</span><span class='id identifier rubyid_updated?'>updated?</span>
          <span class='kw'>self</span><span class='lbracket'>[</span><span class='id identifier rubyid_association'>association</span><span class='period'>.</span><span class='id identifier rubyid___send__'>__send__</span><span class='lparen'>(</span><span class='symbol'>:primary_key</span><span class='rparen'>)</span><span class='rbracket'>]</span> <span class='op'>=</span>
            <span class='id identifier rubyid_association'>association</span><span class='lbracket'>[</span><span class='id identifier rubyid_opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:foreign_key_name</span><span class='rbracket'>]</span><span class='rbracket'>]</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_association_accessor'>association_accessor</span><span class='lparen'>(</span><span class='id identifier rubyid_association_id'>association_id</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_target'>target</span><span class='op'>|</span>
    <span class='id identifier rubyid_association_class'>association_class</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_target'>target</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_many-instance_method">
  
    #<strong>has_many</strong>(association_id, options = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>has_many</p>

<p>This defines a method for an extension class expand an existing
multi-element attribute into ActiveLdap objects. This discards any calls
which result in entries that don&#39;t exist in LDAP!</p>

<p>Example:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_has_many'>has_many</span> <span class='symbol'>:primary_members</span><span class='comma'>,</span> <span class='symbol'>:class_name</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>User</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
         <span class='symbol'>:primary_key</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>gidNumber</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='comment'># Group#gidNumber
</span>         <span class='symbol'>:foreign_key</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>gidNumber</span><span class='tstring_end'>&quot;</span></span>  <span class='comment'># User#gidNumber
</span>         <span class='comment'>## deprecated since 1.1.0. Those options
</span>         <span class='comment'>## are inverted.
</span>         <span class='comment'># :primary_key =&gt; &quot;gidNumber&quot;, # User#gidNumber
</span>         <span class='comment'># :foreign_key =&gt; &quot;gidNumber&quot;  # Group#gidNumber
</span><span class='id identifier rubyid_has_many'>has_many</span> <span class='symbol'>:members</span><span class='comma'>,</span> <span class='symbol'>:class_name</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>User</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
         <span class='symbol'>:wrap</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>memberUid</span><span class='tstring_end'>&quot;</span></span> <span class='comment'># Group#memberUid
</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/active_ldap/associations.rb', line 112</span>

<span class='kw'>def</span> <span class='id identifier rubyid_has_many'>has_many</span><span class='lparen'>(</span><span class='id identifier rubyid_association_id'>association_id</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_validate_has_many_options'>validate_has_many_options</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_klass'>klass</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:class</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_klass'>klass</span> <span class='op'>||=</span> <span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:class_name</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id identifier rubyid_association_id'>association_id</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_classify'>classify</span>
  <span class='id identifier rubyid_foreign_key'>foreign_key</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:foreign_key</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_primary_key'>primary_key</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:primary_key</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_set_associated_class'>set_associated_class</span><span class='lparen'>(</span><span class='id identifier rubyid_association_id'>association_id</span><span class='comma'>,</span> <span class='id identifier rubyid_klass'>klass</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='symbol'>:association_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_association_id'>association_id</span><span class='comma'>,</span>
    <span class='symbol'>:foreign_key_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_foreign_key'>foreign_key</span><span class='comma'>,</span>
    <span class='symbol'>:primary_key_name</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_primary_key'>primary_key</span><span class='comma'>,</span>
    <span class='symbol'>:wrap</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:wrap</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='symbol'>:extend</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:extend</span><span class='rbracket'>]</span><span class='comma'>,</span>
  <span class='rbrace'>}</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:wrap</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_association_class'>association_class</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Association.html" title="ActiveLdap::Association (module)">Association</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Association/HasManyWrap.html" title="ActiveLdap::Association::HasManyWrap (class)">HasManyWrap</a></span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_association_class'>association_class</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Association.html" title="ActiveLdap::Association (module)">Association</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Association/HasMany.html" title="ActiveLdap::Association::HasMany (class)">HasMany</a></span></span>
    <span class='id identifier rubyid_primary_key_name'>primary_key_name</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:primary_key_name</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_foreign_key_name'>foreign_key_name</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:foreign_key_name</span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_primary_key_name'>primary_key_name</span> <span class='op'>!=</span> <span class='id identifier rubyid_foreign_key_name'>foreign_key_name</span> <span class='kw'>and</span>
        <span class='id identifier rubyid_primary_key_name'>primary_key_name</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>dn</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>and</span>
        <span class='op'>!</span><span class='id identifier rubyid_new'>new</span><span class='period'>.</span><span class='id identifier rubyid_have_attribute?'>have_attribute?</span><span class='lparen'>(</span><span class='id identifier rubyid_primary_key_name'>primary_key_name</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='id identifier rubyid__'>_</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:primary_key and :foreign_key has_many options are </span><span class='tstring_end'>&quot;</span></span> \
                  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>inverted their mean since 1.1.0. Please invert them.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='const'>ActiveSupport</span><span class='op'>::</span><span class='const'>Deprecation</span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span><span class='lparen'>(</span><span class='id identifier rubyid_message'>message</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:foreign_key_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_primary_key_name'>primary_key_name</span>
      <span class='id identifier rubyid_opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:primary_key_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_foreign_key_name'>foreign_key_name</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_association_accessor'>association_accessor</span><span class='lparen'>(</span><span class='id identifier rubyid_association_id'>association_id</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_target'>target</span><span class='op'>|</span>
    <span class='id identifier rubyid_association_class'>association_class</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_target'>target</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_associated_class-instance_method">
  
    #<strong>set_associated_class</strong>(name, klass)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


21
22
23
24</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/active_ldap/associations.rb', line 21</span>

<span class='kw'>def</span> <span class='id identifier rubyid_set_associated_class'>set_associated_class</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_klass'>klass</span><span class='rparen'>)</span>
  <span class='ivar'>@associated_classes</span> <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@associated_classes</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_klass'>klass</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
      </div>

      <div class="sidebar">
        <h2>About Project</h2>
	<ul>
	  <li><a href="http://activeldap.github.io/">Project page</a></li>
	  <li>
	    <a href="https://groups.google.com/d/forum/activeldap-commit">Commit mail</a>
	  </li>
	  <li>
	    <a href="http://github.com/activeldap/">GitHub page</a>
	  </li>
	</ul>

        <h2>About ActiveLdap</h2>
	<ul>
	  <li class="menu-reference">
            <a href="../../../../activeldap/en/">Reference</a>
          </li>
	  <li class="menu-tutorial">
	    <a href="../../../../activeldap/en/file.tutorial.html">Tutorial</a>
	  </li>
	  <li class="menu-rails">
	    <a href="../../../../activeldap/en/file.rails.html">Rails</a>
	  </li>
	  <li class="menu-install">
	    <a href="../../../../#activeldap-install">Install</a>
	  </li>
	  <li class="menu-development">
	    <a href="../../../../activeldap/en/file.development.html">Development</a>
	  </li>
	</ul>

        <h2>About ActiveLdap Fabrication</h2>
	<ul>
	  <li class="menu-reference">
            <a href="../../../../activeldap-fabrication/en/">Reference</a>
          </li>
        </ul>
      </div>
    </div>

    <div class="sponsors">
      <p id="sponsor-github">
        <a href="https://github.com/activeldap/">
          <img src="../../../../github-logo.png" width="100" height="45" border="0" alt="ActiveLdap uses GitHub's git repositories." />
        </a>
      </p>
      <p id="sponsor-tango">
	<a href="http://tango.freedesktop.org/">
          <img width="120" height="53" border="0" alt="Tango Desktop Project's icons are used." src="../../../../tango-logo.png" />
        </a>
      </p>
      <p id="sponsor-famfamfam">
	<a href="http://www.famfamfam.com/">
          <img width="120" height="18" border="0" alt="famfamfam.com's flags are used." src="../../../../famfamfam-logo.png" />
        </a>
      </p>
    </div>

</div>
  </body>
</html>